<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Array Controllers in Ember.js</title>
  <meta name="description" content="An array controller is a wrapper for a collection of objects, and provides convenient methods for dealing with its contents.">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/2014/08/29/array-controllers-in-ember-js.html">
  <link rel="alternate" type="application/rss+xml" title="Dom Christie" href="http://localhost:4000/feed.xml">
</head>

  <body>
    <header role="banner" class="navigation">
  <nav>
    <a href="/" title="Dom Christie Home (Recent Posts)">
      <img src="/domchristie.jpg" alt="" width="24" height="24" />
      <span class="name">Dom Christie</span>
    </a>
    <ul>
      
        
        <li><a href="/about/">About</a></li>
        
      
        
      
        
      
        
      
        
      
      <li><a href="/feed.xml">RSS</a></li>
    </ul>
  </nav>
</header>

    <main class="container">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post__header">
    <time datetime="2014-08-29T12:58:18+01:00" itemprop="datePublished">
      
        29 Aug 2014
      
    </time>

    
      <h1 itemprop="name headline">
        
          Array Controllers in Ember.js
        
      </h1>
    
  </header>
  <div class="post__body" itemprop="articleBody">
    <p>An array controller is a wrapper for a collection of objects, and provides convenient methods for dealing with its contents.</p>

<p>An array controller&#x2019;s <code>model</code> is typically set in a route, for example:</p>

<pre><code>App.IndexRoute = Ember.Route.extend({
  model: function() {
    return [
      {name: &apos;red&apos;},
      {name: &apos;yellow&apos;},
      {name: &apos;blue&apos;}
    ];
  }
});
// (The Index ArrayController is setup implicitly)
</code></pre>

<p>Setting an array controller&#x2019;s <code>model</code> sets up its <code>content</code> property, which forms the basis for other properties and methods.</p>

<h2>arrangedContent</h2>

<p><code>arrangedContent</code> is an important property, defined as &#x201C;the array that the [array controller] pretends to be&#x201D;. It provides a way for sorted/filtered content to be stored separately from the original <code>content</code>. In this way, sorting/filtering is not destructive, and the content (in its original form) can still be retrieved.</p>

<p>By default, when an array controller has no <code>sortProperties</code>, <code>arrangedContent</code> and <code>content</code> are the same. When <code>sortProperties</code> are added, the sorted content is stored in <code>arrangedContent</code> whilst the original <code>content</code> remains untouched.</p>

<p>It&#x2019;s important to note that <strong>an array controller should be treated just like an array</strong>, with its items referencing those in <code>arrangedContent</code>. Accessing items on an array controller itself, is <em>effectively</em> the same as accessing items in <code>arrangedContent</code> (an important difference is discussed in below).</p>

<p>This is best illustrated with some examples. Given the route above, the following <code>#each</code> loops all result in the same output:</p>

<p><code>index</code> template:</p>

<pre><code>  

  

  
</code></pre>

<div class="caption"><a href="http://emberjs.jsbin.com/nuzoja/1/edit?html,js,output">http://emberjs.jsbin.com/nuzoja/1</a></div>

<p>Setting <code>sortProperties</code> results in sorted output from <code>arrangedProperty</code> and therefore from the array controller instance itself:</p>

<pre><code>App.IndexController = Ember.ArrayController.extend({
  sortProperties: [&apos;name&apos;]
});
</code></pre>

<p><code>index</code> template:</p>

<pre><code> &#x2026;

 &#x2026;

 &#x2026;
</code></pre>

<div class="caption"><a href="http://emberjs.jsbin.com/nuzoja/2/edit?html,js,output">http://emberjs.jsbin.com/nuzoja/2/edit</a></div>

<h2>Item Controllers</h2>

<p>Adding an <code>itemController</code> property to an array controller wraps each item in an instance of the referenced controller. However, this only applies when accessing items through the array controller instance itself. Items accessed via <code>arrangedContent</code> or <code>content</code> remain unwrapped. This is the key difference when accessing items via <code>arrangedContent</code> versus accessing them via the array controller instance itself.</p>

<p>The following example demonstrates this concept:</p>

<pre><code>App.IndexController = Ember.ArrayController.extend({
  itemController: &apos;color&apos;
});

App.ColorController = Ember.ObjectController.extend({
  isActive: true
});
</code></pre>

<p><code>index</code> template:</p>

<pre><code>
    



    



    

</code></pre>

<div class="caption"><a href="http://emberjs.jsbin.com/nuzoja/3/edit?html,js,output">http://emberjs.jsbin.com/nuzoja/3/edit</a></div>

<p>Nothing is rendered in the loops that iterate over <code>content</code> or <code>arrangedContent</code> because the items are not wrapped in an item controller and therefore <code>isActive</code> is inaccessible.</p>

<h3></h3>

<p><code></code> helpers, when supplied with an <code>itemController</code> property, wrap each item in <strong>a new instance</strong> of the referenced controller. This operates entirely independently from the <code>itemController</code> property on an array controller: an array controller will not have access to any item controller created via an <code></code> helper.</p>

<p>This becomes particularly important when implementing a computed property on an array controller that depends on properties on an item controller. See <a href="http://emberjs.jsbin.com/nuzoja/9/edit?html,js,output">the example</a>.</p>

<p>For more information:</p>

<ul>
<li><a href="http://emberjs.com/api/classes/Ember.ArrayController.html">Ember.ArrayController Documentation</a></li>
<li><a href="http://ember.guru/2014/hidden-features-of-the-each-aka-loopedy-loop-helper">The <code>#each</code> helper post</a> on ember.guru</li>
<li><a href="http://www.confreaks.com/videos/3457-emberconf2014-array-computed-properties">Array Computed Properties</a> talk by David Hamilton</li>
</ul>
  </div>
</article>



    </main>
  </body>
</html>
